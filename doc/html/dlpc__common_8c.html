<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DLP Pico Display and Light Control API Library: api/dlpc_common.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript">
function addCSSRule(sheet, selector, rules, index) {
  if("insertRule" in sheet) {
    sheet.insertRule(selector + "{" + rules + "}", index);
  }
  else if("addRule" in sheet) {
    sheet.addRule(selector, rules, index);
  }
}
function addNavrowStyle() {
  // console.log(document.getElementById("navrow3"));
  if(document.getElementById("navrow3")==null)
  {
    var newStyles = 'background: -moz-linear-gradient(top, #fff 0%, #f9f9f9 100%);'
                  + 'background: -webkit-linear-gradient(top, #fff 0%, #f9f9f9 100%);'
                  + 'background: -ms-linear-gradient(top, #fff 0%, #f9f9f9 100%);'
                  + 'border: 1px solid #e0e0e0;'
                  + 'border-top: 0;'
    addCSSRule(document.styleSheets[0], "div#navrow2.tabs2", newStyles);
  }
}
window.onload = addNavrowStyle;
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">DLP Pico Display and Light Control API Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0188a3e6da905bc60aceb35bf790b8c9.html">api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">dlpc_common.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Structs and functions to initialize the Command Library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="dlpc__common_8h_source.html">dlpc_common.h</a>&quot;</code><br />
<code>#include &quot;stdbool.h&quot;</code><br />
<code>#include &quot;string.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dlpc_common.c:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 0 -->
</div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad2a9c5491fe7a729048bb8407212ae29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dlpc__common_8c.html#ad2a9c5491fe7a729048bb8407212ae29">DLPC_COMMON_InitCommandLibrary</a> (uint8_t *WriteBuffer, uint16_t WriteBufferSize, uint8_t *ReadBuffer, uint16_t ReadBufferSize, <a class="el" href="dlpc__common_8h.html#aec19edb165c243648f1cdfe8418283f6">DLPC_COMMON_WriteCommandCallback</a> WriteCommandCallback, <a class="el" href="dlpc__common_8h.html#a55d3cfd3bd8afd5b9a2e7c5ebc9c34b3">DLPC_COMMON_ReadCommandCallback</a> ReadCommandCallback)</td></tr>
<tr class="separator:ad2a9c5491fe7a729048bb8407212ae29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3050344ef9ace540dad24d8af8fcc9c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3050344ef9ace540dad24d8af8fcc9c0"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_SendWrite</b> ()</td></tr>
<tr class="separator:a3050344ef9ace540dad24d8af8fcc9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98cabee4b45fe546a582f2e1b8a1c96e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98cabee4b45fe546a582f2e1b8a1c96e"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_SendRead</b> (uint16_t ReadLength)</td></tr>
<tr class="separator:a98cabee4b45fe546a582f2e1b8a1c96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8b3debfabe3679d76a015711383862"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b8b3debfabe3679d76a015711383862"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_ClearWriteBuffer</b> ()</td></tr>
<tr class="separator:a2b8b3debfabe3679d76a015711383862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc97a9346bb3ddbf8966cee8bda2d59"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bc97a9346bb3ddbf8966cee8bda2d59"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_ClearReadBuffer</b> ()</td></tr>
<tr class="separator:a6bc97a9346bb3ddbf8966cee8bda2d59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c0068240f0e6bf213408880d7e66084"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9c0068240f0e6bf213408880d7e66084"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><b>ConvertFloatToFixed</b> (double Value, uint32_t Scale)</td></tr>
<tr class="separator:a9c0068240f0e6bf213408880d7e66084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03b239d4b208c9cf68eac9e78890861"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae03b239d4b208c9cf68eac9e78890861"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>ConvertFixedToFloat</b> (int64_t Value, uint32_t Scale)</td></tr>
<tr class="separator:ae03b239d4b208c9cf68eac9e78890861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8cd82fe580f8088304341167dca1c4c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8cd82fe580f8088304341167dca1c4c"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetBitMask</b> (uint8_t NumBits)</td></tr>
<tr class="separator:ac8cd82fe580f8088304341167dca1c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dd190a95edad9f18e3a51d3dc09cd9d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dd190a95edad9f18e3a51d3dc09cd9d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsSignedBitSet</b> (int64_t Value, int32_t NumBits)</td></tr>
<tr class="separator:a2dd190a95edad9f18e3a51d3dc09cd9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce8be892dbc74b22fa8ca3a88b699b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ce8be892dbc74b22fa8ca3a88b699b8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_PackOpcode</b> (int32_t Length, uint16_t Opcode)</td></tr>
<tr class="separator:a9ce8be892dbc74b22fa8ca3a88b699b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9521eea8c0b901a05518973f91b68d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb9521eea8c0b901a05518973f91b68d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_MoveWriteBufferPointer</b> (int32_t Offset)</td></tr>
<tr class="separator:aeb9521eea8c0b901a05518973f91b68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acecb3c36ea39f5b2e26765e4d8dc9a6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acecb3c36ea39f5b2e26765e4d8dc9a6c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_PackByte</b> (uint8_t Data)</td></tr>
<tr class="separator:acecb3c36ea39f5b2e26765e4d8dc9a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70e43c9fd84985fb4f49694e88208951"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70e43c9fd84985fb4f49694e88208951"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_PackBytes</b> (uint8_t *Data, int32_t Length)</td></tr>
<tr class="separator:a70e43c9fd84985fb4f49694e88208951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd6b15093fd41a418ef600ae5fb0376"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdd6b15093fd41a418ef600ae5fb0376"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_PackFloat</b> (double Value, int32_t Length, uint32_t Scale)</td></tr>
<tr class="separator:abdd6b15093fd41a418ef600ae5fb0376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab2b0b2f4e8b50991385738d94785c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ab2b0b2f4e8b50991385738d94785c4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_SetBits</b> (int32_t Value, int32_t NumBits, int32_t BitOffset)</td></tr>
<tr class="separator:a7ab2b0b2f4e8b50991385738d94785c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71535f339ee127011d036b128de9c7ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71535f339ee127011d036b128de9c7ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_MoveReadBufferPointer</b> (int32_t Length)</td></tr>
<tr class="separator:a71535f339ee127011d036b128de9c7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6f6753bd5473baec57edd2d18eed25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f6f6753bd5473baec57edd2d18eed25"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_UnpackBytes</b> (int32_t Length)</td></tr>
<tr class="separator:a9f6f6753bd5473baec57edd2d18eed25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5b66e68882f87ad849d78d29aec58c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc5b66e68882f87ad849d78d29aec58c"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_UnpackFloat</b> (int32_t Length, uint32_t Scale, bool Signed)</td></tr>
<tr class="separator:afc5b66e68882f87ad849d78d29aec58c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc3730dbfdc4b7208ff3e22eaac36693"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc3730dbfdc4b7208ff3e22eaac36693"></a>
uint64_t&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_GetBits</b> (uint8_t NumBits, uint8_t BitOffset, bool Signed)</td></tr>
<tr class="separator:afc3730dbfdc4b7208ff3e22eaac36693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb15f2386551ad08c0649275f73060e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb15f2386551ad08c0649275f73060e7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_SetCommandDestination</b> (uint16_t CommandDestination)</td></tr>
<tr class="separator:acb15f2386551ad08c0649275f73060e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80cafcc52fceee495f64830ad7f9e07d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a80cafcc52fceee495f64830ad7f9e07d"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>DLPC_COMMON_GetBytesRead</b> ()</td></tr>
<tr class="separator:a80cafcc52fceee495f64830ad7f9e07d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Structs and functions to initialize the Command Library. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad2a9c5491fe7a729048bb8407212ae29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DLPC_COMMON_InitCommandLibrary </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>WriteBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>WriteBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>ReadBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ReadBufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlpc__common_8h.html#aec19edb165c243648f1cdfe8418283f6">DLPC_COMMON_WriteCommandCallback</a>&#160;</td>
          <td class="paramname"><em>WriteCommandCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="dlpc__common_8h.html#a55d3cfd3bd8afd5b9a2e7c5ebc9c34b3">DLPC_COMMON_ReadCommandCallback</a>&#160;</td>
          <td class="paramname"><em>ReadCommandCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes the read/write buffers and callbacks for the command APIs</p>
<p>A write command API packs command data to the WriteBuffer. A read command API packs the read request data to the WriteBuffer and unpacks the read response data from the ReadBuffer. To avoid dynamic memory allocation or an arbitrarily large static buffer allocation, the command APIs use the buffers provided the caller.</p>
<p>The command APIs do not directly transmit data to the controller or receive data from the controller. Instead, they use the WriteCommandCallback and ReadCommandCallback functions provided by the caller to send data to and receive data from the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteBuffer</td><td>The write buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteBufferSize</td><td>The write buffer size in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadBuffer</td><td>The read buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadBufferSize</td><td>The read buffer size in bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">WriteCommandCallback</td><td>The callback method that sends the specified number of bytes from the WriteBuffer to the controller </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ReadCommandCallback</td><td>The callback method that sends the specified number of bytes from the WriteBuffer to the controller and reads the response data and populates it to the ReadBuffer </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 1 -->
</div>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
Generated on Thu Mar 25 2021 15:39:02 for DLP Pico Display and Light Control API Library by&#160;<a href="http://www.doxygen.org/index.html">
doxygen
</a> 1.8.11
</address>
</body>
</html>
